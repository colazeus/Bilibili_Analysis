(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-41ec52fd"],{"041c":function(e,i,t){"use strict";t("3145")},"045c":function(e,i,t){"use strict";t.r(i);var o=function(){var e=this,i=e.$createElement,t=e._self._c||i;return t("div",[t("video-list"),t("vue-fab",{attrs:{mainBtnColor:"#e53222",size:"big"},on:{clickMainBtn:function(i){e.dialogVisible=!0}}}),t("el-dialog",{attrs:{title:"添加新追踪的视频",visible:e.dialogVisible,width:"40%","before-close":e.handleClose},on:{"update:visible":function(i){e.dialogVisible=i},closed:e.closeNewVideoDialog}},[t("div",{staticClass:"search-video"},[t("el-input",{attrs:{placeholder:"请复制BiliBili的视频地址到这里"},model:{value:e.newVideo.url,callback:function(i){e.$set(e.newVideo,"url",i)},expression:"newVideo.url"}}),t("el-button",{attrs:{type:"primary"},on:{click:e.searchVideo}},[e._v("查询")])],1),t("el-divider",[e._v("视频信息")]),t("el-row",{staticClass:"video-info"},[t("el-col",{attrs:{span:12}},[t("div",{staticClass:"img-wrapper"},[t("img",{attrs:{src:e.newVideo.img}})])]),t("el-col",{attrs:{span:12}},[t("h2",[e._v(e._s(e.newVideo.title))]),t("sub",[e._v("作者:"+e._s(e.newVideo.owner))])])],1),t("el-divider",[e._v("监控设置")]),t("el-form",{ref:"newVideo",staticClass:"video-form",attrs:{model:e.newVideo,"label-width":"120px"}},[t("el-form-item",{attrs:{label:"监控持续时间",prop:"expiration"}},[t("el-radio-group",{attrs:{size:"medium"},model:{value:e.newVideo.expiration,callback:function(i){e.$set(e.newVideo,"expiration",i)},expression:"newVideo.expiration"}},[t("el-radio-button",{attrs:{label:"不监控"}}),t("el-radio-button",{attrs:{label:"1天"}}),t("el-radio-button",{attrs:{label:"3天"}}),t("el-radio-button",{attrs:{label:"7天"}}),t("el-radio-button",{attrs:{label:"自动"}})],1)],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(i){e.dialogVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.postNewVideoDialog}},[e._v("确 定")])],1)],1)],1)},n=[],a=(t("c975"),t("b0c0"),{inject:["reload","showMessage"],data:function(){return{dialogVisible:!1,newVideo:{bvid:"",img:"",url:"",title:"视频标题",owner:"名称",expiration:"自动"}}},methods:{searchVideo:function(){var e=this,i=this.newVideo.url,t=i.substr(i.indexOf("BV"),12);this.$api.getVideoInfo(t).then((function(i){var t=i["data"];e.newVideo.img=t["pic"],e.newVideo.title=t["title"],e.newVideo.owner=t["owner"]["name"],e.newVideo.bvid=t["bvid"],console.log()})).catch((function(e){console.log(e)}))},closeNewVideoDialog:function(){Object.assign(this.newVideo,this.$options.data().newVideo),this.reload()},postNewVideoDialog:function(){var e=this,i={bvid:this.newVideo.bvid,expiration:this.newVideo.expiration};this.$api.saveVideo(i).then((function(i){0==i["code"]?e.showMessage("视频创建成功,vid:"+i["data"]["vid"]):e.showMessage(i["message"])})).catch((function(e){console.log(e)})),this.dialogVisible=!1,setTimeout((function(){this.reload()}),500)}}}),l=a,s=(t("041c"),t("2877")),d=Object(s["a"])(l,o,n,!1,null,null,null);i["default"]=d.exports},3145:function(e,i,t){},c975:function(e,i,t){"use strict";var o=t("23e7"),n=t("4d64").indexOf,a=t("a640"),l=t("ae40"),s=[].indexOf,d=!!s&&1/[1].indexOf(1,-0)<0,r=a("indexOf"),c=l("indexOf",{ACCESSORS:!0,1:0});o({target:"Array",proto:!0,forced:d||!r||!c},{indexOf:function(e){return d?s.apply(this,arguments)||0:n(this,e,arguments.length>1?arguments[1]:void 0)}})}}]);